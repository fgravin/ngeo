<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: contribs/gmf/src/services/exportfeatures.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: contribs/gmf/src/services/exportfeatures.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>goog.provide('gmf.ExportFeatures');
goog.provide('gmf.ExportFormat');

goog.require('gmf');
goog.require('goog.asserts');


/**
 * @enum {string}
 */
gmf.ExportFormat = {
  GPX: 'gpx',
  KML: 'kml'
};


/**
 * @typedef {function(string, gmf.ExportFormat, string)}
 */
gmf.ExportFeatures;


/**
 * @param {Document} $document Angular $document service.
 * @param {gmfx.ServiceUrls} gmfServiceUrls GMF URLs objects.
 * @return {gmf.ExportFeatures} The "export features" function.
 * @ngInject
 * @private
 */
gmf.exportFeaturesFactory_ = function($document, gmfServiceUrls) {
  goog.asserts.assert(gmfServiceUrls.exportgpxkml);
  var exportgpxkmlUrl = gmfServiceUrls.exportgpxkml;

  return (
      /**
       * @param {string} doc The document to export/download.
       * @param {gmf.ExportFormat} format The document format.
       * @param {string} filename File name for the exported document.
       */
      function exportFeatures(doc, format, filename) {
        var formatInput = $('&lt;input>').attr({
          type: 'hidden',
          name: 'format',
          value: format
        });
        var nameInput = $('&lt;input>').attr({
          type: 'hidden',
          name: 'name',
          value: filename
        });
        var docInput = $('&lt;input>').attr({
          type: 'hidden',
          name: 'doc',
          value: doc
        });
        var form = $('&lt;form>').attr({
          method: 'POST',
          action: exportgpxkmlUrl
        });
        form.append(formatInput, nameInput, docInput);
        angular.element($document[0].body).append(form);
        form[0].submit();
        form.remove();
      });
};

gmfModule.factory('gmfExportFeatures', gmf.exportFeaturesFactory_);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h2>gmf</h2><h3>Classes</h3><ul><li><a href="gmf.LocationchooserController.html">LocationchooserController</a></li><li><a href="gmf.MapController.html">MapController</a></li><li><a href="gmf.SearchController.html">SearchController</a></li></ul><h2>gmf.source</h2><h3>Classes</h3><ul><li><a href="gmf.source.AsitVD.html">AsitVD</a></li></ul><h2>ngeo</h2><h3>Classes</h3><ul><li><a href="ngeo.BackgroundEvent.html">BackgroundEvent</a></li><li><a href="ngeo.BackgroundLayerMgr.html">BackgroundLayerMgr</a></li><li><a href="ngeo.BtnGroupController.html">BtnGroupController</a></li><li><a href="ngeo.FeatureOverlay.html">FeatureOverlay</a></li><li><a href="ngeo.FeatureOverlayMgr.html">FeatureOverlayMgr</a></li><li><a href="ngeo.LayertreeController.html">LayertreeController</a></li><li><a href="ngeo.Location.html">Location</a></li><li><a href="ngeo.MeasureEvent.html">MeasureEvent</a></li><li><a href="ngeo.Popup.html">Popup</a></li><li><a href="ngeo.Print.html">Print</a></li><li><a href="ngeo.PrintUtils.html">PrintUtils</a></li><li><a href="ngeo.profile.html">profile</a></li><li><a href="ngeo.ScaleselectorController.html">ScaleselectorController</a></li></ul><h2>ngeo.format</h2><h3>Classes</h3><ul><li><a href="ngeo.format.FeatureHash.html">FeatureHash</a></li></ul><h2>ngeo.interaction</h2><h3>Classes</h3><ul><li><a href="ngeo.interaction.DrawAzimut.html">DrawAzimut</a></li><li><a href="ngeo.interaction.Measure.html">Measure</a></li><li><a href="ngeo.interaction.MeasureArea.html">MeasureArea</a></li><li><a href="ngeo.interaction.MeasureAzimut.html">MeasureAzimut</a></li><li><a href="ngeo.interaction.MeasureLength.html">MeasureLength</a></li></ul><h2>ngeo.MeasureEvent</h2><h3>Events</h3><ul><li><a href="ngeo.MeasureEvent.html#event:measureend">measureend</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
